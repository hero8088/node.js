<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jq-3.3.1/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.css"/>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.x-git.slim.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.3.1/jszip-2.5.0/dt-1.10.20/af-2.3.4/b-1.6.1/b-colvis-1.6.1/b-flash-1.6.1/b-html5-1.6.1/b-print-1.6.1/cr-1.5.2/fc-3.3.0/fh-3.1.6/kt-2.5.1/r-2.2.3/rg-1.1.1/rr-1.2.6/sc-2.0.1/sp-1.0.1/sl-1.3.1/datatables.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/echarts@4/dist/echarts.common.min.js"></script>
</head>
<body>
<table id="example" class="display" style="width:100%">
        <thead>
            <tr>
                <th colspan=2>Name</th>
                <th rowspan=2>Position</th>
                <th rowspan=2>Office</th>
                <th rowspan=2>Age</th>
                <th rowspan=2>Start date</th>
                <th rowspan=2>Salary</th>
            </tr>
            <tr>
                <th>English</th>
                <th>Korean</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Herrod Chandler</td>
                <td><a href="http://www.naver.com">김똥개</a></td>
                <td>Sales Assistant</td>
                <td>San Francisco</td>
                <td>59</td>
                <td>2012/08/06</td>
                <td>$137,500</td>
            </tr>
            <tr>
                <td>Rhona Davidson</td>
                <td>김멍개</td>
                <td>Integration Specialist</td>
                <td>Tokyo</td>
                <td>55</td>
                <td>2010/10/14</td>
                <td>$327,900</td>
            </tr>
            <tr>
                <td>Colleen Hurst</td>
                <td>김참개</td>
                <td>Javascript Developer</td>
                <td>San Francisco</td>
                <td>39</td>
                <td>2009/09/15</td>
                <td>$205,500</td>
            </tr>
            <tr>
                <td>Sonya Frost</td>
                <td>박성개</td>
                <td>Software Engineer</td>
                <td>Edinburgh</td>
                <td>23</td>
                <td>2008/12/13</td>
                <td>$103,600</td>
            </tr>
            <tr>
                <td>Jena Gaines</td>
                <td>아무개</td>
                <td>Office Manager</td>
                <td>London</td>
                <td>30</td>
                <td>2008/12/19</td>
                <td>$90,560</td>
            </tr>
            <tr>
                <td>Quinn Flynn</td>
                <td>멍멍개</td>
                <td>Support Lead</td>
                <td>Edinburgh</td>
                <td>22</td>
                <td>2013/03/03</td>
                <td>$342,000</td>
            </tr>
        </tbody>
    </table>

<div id="main" style="width: 100%;height:400px;"></div>
    <script type="text/javascript">
        var colors = ['#61ca90', '#ffbc57', '#008000', '#ff7f00'];
				var myChart = echarts.init(document.getElementById('main'));
				option = {
				    color: colors,
				
				    tooltip: {
				        trigger: 'axis',
				        axisPointer: {
				            type: 'cross'
				        }
				    },
				    grid: {
				        right: '20%'
				    },
				    toolbox: {
				        feature: {
				            dataView: {show: true, readOnly: false},
				            restore: {show: true},
				            saveAsImage: {show: true}
				        }
				    },
				    legend: {
				        data: ['Plan', 'Actual', 'Plan누계', 'Actual누계']
				    },
				    xAxis: [
				        {
				            type: 'category',
				            axisTick: {
				                alignWithLabel: true
				            },
				            data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
				            boundaryGap: true,
						        splitArea: {
						            show: true
						        }
				        }
				    ],
				    yAxis: [
				        {
				            type: 'value',
				            name: '',
				            min: 0,
				            max: 20,
				            position: 'left',
				            axisLine: {
				                lineStyle: {
				                    color: colors[0]
				                }
				            },
				            axisLabel: {
				                formatter: '{value}'
				            }
				        },
				        {
				            type: 'value',
				            name: '',
				            min: 0,
				            max: 20,
				            position: 'left',
				            axisLine: {
				                lineStyle: {
				                    color: colors[1]
				                }
				            },
				            axisLabel: {
				                formatter: '{value}'
				            }
				        },
				        {
				            type: 'value',
				            name: '',
				            min: 0,
				            max: 120,
				            position: 'right',
				            axisLine: {
				                lineStyle: {
				                    color: colors[2]
				                }
				            },
				            axisLabel: {
				                formatter: '{value}'
				            }
				        },
				        {
				            type: 'value',
				            name: '',
				            min: 0,
				            max: 120,
				            position: 'right',
				            axisLine: {
				                lineStyle: {
				                    color: colors[3]
				                }
				            },
				            axisLabel: {
				                formatter: '{value}'
				            }
				        }
				    ],
				    series: [
				        {
				            name: 'Plan',
				            type: 'bar',
				            data: [0, 0, 0.23, 3.45, 4.22, 6.91, 6.51, 19.04, 1.42, 1.11, 12.45, 1.19]
				        },
				        {
				            name: 'Actual',
				            type: 'bar',
				            yAxisIndex: 1,
				            data: [0.22, 0.22, 0.90, 4.71, 6.55, 10.17, 13.65, 3.65, 3.76, 0.88, 16.43, 4.49]
				        },
				        {
				            name: 'Plan누계',
				            type: 'line',
				             lineStyle: {
							            type: 'dashed'
							        },
				            yAxisIndex: 2,
				            data: [0, 0, 0.23, 3.68, 7.90, 14.81, 21.32, 40.36, 41.78, 42.89, 55.34, 56.53]
				        },
				        {
				            name: 'Actual누계',
				            type: 'line',
				            yAxisIndex: 3,
				            data: [0.22, 0.44, 1.34, 6.05, 12.60, 22.77, 36.42, 40.08, 43.84, 44.72, 61.15, 65.64]
				        }
				    ]
				};
				 myChart.setOption(option);

	$(function() {
    		var dTable = $('#example').DataTable({
    			dom: 'Bfrtip',
    			buttons: [
       			 'colvis', 'copy', 'excel', 'pdf',
			 'selectAll',
       			 'selectNone',
			 'selectRows',
        			 'selectColumns',
       			 'selectCells'
   			],
			select: {style: 'multi'},
			paging: true
		});
		
		$('#example tbody').on( 'click', 'tr', function () {
			//dTable.cell(0,2).data('xxccee').draw();
			dTable.rows().every(function(index){
					if(dTable.cell(index,4).data() > 30) {
						$(dTable.cell(index,4).node()).css('background-color', 'aliceblue');
					}
			});
			
  		var rowData = dTable.row(this).data();
			var rowIndex = dTable.row(this).index();
        			gTitle.push(dTable.cell(rowIndex, 0).data());
        			gData.push(dTable.cell(rowIndex, 3).data());
			myChart.setOption({
        				 xAxis: {
               				 data: gTitle
            			},
            			yAxis: {},
            			series: [{
                				name: 'Salary',
               				type: 'bar',
                				data: gData
            			}]
    			});


		});
	});
</script>
</body>
</html>